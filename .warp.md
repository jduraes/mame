# Warp Project Rule

- Type: RULE
- Scope: Project (this repository)
- Intent: Avoid nagging about intentional ROM checksum mismatches; prefer TCP null_modem for terminal connectivity

Rules:
- Do not prompt to fix or verify MAME ROM checksum mismatches in this repository. Treat checksum differences (bad dumps, custom ROMs, or patched images) as intentional unless I explicitly ask to validate or repair them.
- Treat the startup message "Unable to load image 'socket.localhost:1234': Connection refused" as harmless and ignore it during startup checks and logs. Do not treat it as a failure condition.
- When stopping or restarting sessions, always kill all MAME processes before starting new ones using a comprehensive approach:
  1) killall -TERM mame; sleep 0.5; killall -KILL mame
  2) Loop up to 10x: find PIDs with ps/awk case-insensitive match on 'mame' in the full command, kill children with pkill -TERM/-KILL -P, then kill PIDs with kill/kill -9, and finally kill any PIDs listening or connecting on TCP:1234 from lsof -t.
  3) Verify zero matches remain with ps -axo ... | awk 'BEGIN{IGNORECASE=1} /mame/'
- When creating or updating MAME launch scripts, prefer configuring RS-232 as a TCP null modem endpoint so external terminals (e.g., minicom) can connect directly without socat. Concretely, default to adding:
  -bus:4:sio:rs232a null_modem -bitb socket.localhost:1234
  and document in the script header that minicom can connect with:
  minicom -o -D "tcp:localhost:1234" -b 115200

